(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{100:function(t,n,e){"use strict";var a=e(81);e.n(a).a},101:function(t,n,e){(t.exports=e(3)(!1)).push([t.i,".video-list[data-v-1aa605ce] {\n  padding-top: 20px;\n}\n.video-list .addBtn[data-v-1aa605ce] {\n  text-align: center;\n  padding: 20px;\n}\n.video-list .addBtn span[data-v-1aa605ce] {\n  padding: 5px 40px;\n  background: #009cff;\n  color: #fff;\n  border-radius: 20px;\n  font-size: 16px;\n  font-weight: bold;\n  cursor: pointer;\n}\n.video-list .wrapper[data-v-1aa605ce] {\n  background: rgba(18,19,22,0.6);\n  position: fixed;\n  top: 0;\n  bottom: 0;\n  right: 0;\n  left: 0;\n  z-index: 99999;\n}\n.video-list .addVideo[data-v-1aa605ce] {\n  width: 500px;\n  padding: 20px;\n  background: rgba(255,255,255,0.05);\n  position: fixed;\n  z-index: 999999;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  box-shadow: 1px 1px 5px #090c13;\n}\n.video-list .addVideo li[data-v-1aa605ce] {\n  width: 100%;\n  padding: 8px 15px;\n  box-sizing: border-box;\n}\n.video-list .addVideo li input[data-v-1aa605ce] {\n  width: 100%;\n  padding: 5px;\n  color: #fff;\n  background: #001935;\n  letter-spacing: 3px;\n  box-sizing: border-box;\n}\n.video-list .addVideo li button[data-v-1aa605ce] {\n  background: #009cff;\n  width: 100%;\n  padding: 5px;\n  color: #fff;\n  outline: none;\n  cursor: pointer;\n  margin-top: 10px;\n}\n.video-list .list ul li[data-v-1aa605ce] {\n  width: 50%;\n  box-sizing: border-box;\n  display: inline-block;\n}\n.video-list .list ul li .item[data-v-1aa605ce] {\n  cursor: pointer;\n  margin: 10px;\n  background: rgba(255,255,255,0.05);\n  padding: 5px;\n  border-radius: 5px;\n  display: flex;\n  align-items: center;\n}\n.video-list .list ul li .avatar img[data-v-1aa605ce] {\n  border: none;\n  height: 30px;\n  width: 30px;\n}\n.video-list .list ul li .avatar[data-v-1aa605ce] {\n  margin: 0;\n  padding: 0;\n}\n.video-list .list ul li .oid[data-v-1aa605ce] {\n  font-weight: bold;\n}\n.video-list .list ul li .avatar[data-v-1aa605ce],\n.video-list .list ul li .oid[data-v-1aa605ce],\n.video-list .list ul li .title[data-v-1aa605ce],\n.video-list .list ul li .content[data-v-1aa605ce] {\n  margin: 0 10px;\n}\n.video-list .list li:nth-child(even) .item[data-v-1aa605ce] {\n  margin-right: 0;\n}\n.video-list .list li:nth-child(odd) .item[data-v-1aa605ce] {\n  margin-left: 0;\n}\n",""])},102:function(t,n,e){"use strict";var a=e(82);e.n(a).a},103:function(t,n,e){(t.exports=e(3)(!1)).push([t.i,".player-wrap {\n  position: absolute;\n  width: 800px;\n  height: 450px;\n  background: #000;\n}\n.player-wrap .play {\n  width: 800px;\n  height: 450px;\n  background: #000;\n  position: fixed;\n  z-index: 9;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -60%);\n  box-shadow: 1px 1px 5px #090c13;\n}\n.player-wrap .play .danmu {\n  position: absolute;\n  top: 0;\n}\n.player-wrap .wrapper {\n  background: rgba(0,0,0,0.8);\n  position: fixed;\n  top: 0;\n  bottom: 0;\n  right: 0;\n  left: 0;\n  z-index: 9;\n}\n.player-wrap .close {\n  z-index: 9;\n  position: absolute;\n  top: -15px;\n  right: -27px;\n  cursor: pointer;\n}\n.player-wrap .close .icon-close {\n  font-size: 30px;\n  background: #00fff6;\n  border-radius: 50%;\n  padding: 10px;\n  color: #001935;\n}\n",""])},104:function(t,n,e){"use strict";var a=e(83);e.n(a).a},105:function(t,n,e){(t.exports=e(3)(!1)).push([t.i,".comment[data-v-17299371] {\n  color: #fff !important;\n  position: fixed;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  width: 100%;\n  background: #001935;\n  padding: 10px;\n  z-index: 9999999;\n}\n.comment .comment-box[data-v-17299371] {\n  display: flex;\n  align-items: center;\n}\n.comment .comment-avatar[data-v-17299371] {\n  margin-right: 20px;\n  height: 40px;\n  width: 40px;\n}\n.comment .comment-avatar img[data-v-17299371] {\n  width: 100%;\n  height: 100%;\n  border-radius: 50%;\n}\n.comment .add-text[data-v-17299371] {\n  flex: 1;\n  text-align: center;\n}\n.comment .add-text input[data-v-17299371] {\n  border-radius: 5px;\n  width: 100%;\n  background: #21374f;\n  padding: 8px;\n  resize: none;\n  box-sizing: border-box;\n  color: #fff;\n  font-size: 20px;\n  outline: none;\n}\n.comment .option[data-v-17299371] {\n  position: relative;\n}\n.comment .submit[data-v-17299371] {\n  display: inline-block;\n  margin-left: 20px;\n}\n.comment .submit button[data-v-17299371] {\n  background: #00fff6;\n  color: #001935;\n  padding: 5px 20px;\n  cursor: pointer;\n  outline: none;\n  font-size: 18px;\n  border-radius: 2px;\n  font-weight: bold;\n}\n.comment .submit .icon-send[data-v-17299371] {\n  font-size: 20px;\n  margin-right: 15px;\n}\n.comment .dm-opt[data-v-17299371] {\n  padding: 10px;\n  background: #001935;\n  position: absolute;\n  bottom: 60px;\n  right: -125px;\n  width: 260px;\n}\n.comment .dm-opt p[data-v-17299371] {\n  padding: 10px;\n}\n.comment .dm-opt p i[data-v-17299371] {\n  display: inline-block;\n  height: 25px;\n  width: 25px;\n  margin: 5px;\n  border-radius: 50%;\n  cursor: pointer;\n}\n.comment .dm-opt p span[data-v-17299371] {\n  background: rgba(255,255,255,0.05);\n  padding: 5px 30px;\n  cursor: pointer;\n  display: inline-block;\n}\n.comment .dm-opt p .active[data-v-17299371] {\n  background: #fff;\n  color: #333;\n}\n.comment .icon-color[data-v-17299371] {\n  font-size: 40px;\n  margin-left: 20px;\n  cursor: pointer;\n}\n.comment .need-login span[data-v-17299371] {\n  background: #ff005e;\n  padding: 2px 8px;\n  border-radius: 4px;\n  margin-right: 20px;\n  cursor: pointer;\n}\n.dm-opt span[data-v-17299371]:nth-child(1) {\n  border-radius: 5px 0 0 5px;\n}\n.dm-opt span[data-v-17299371]:nth-child(3) {\n  border-radius: 0 5px 5px 0;\n  border-left: none;\n}\n",""])},106:function(t,n,e){"use strict";var a=e(84);e.n(a).a},107:function(t,n,e){(t.exports=e(3)(!1)).push([t.i,".switch[data-v-50011aff] {\n  position: relative;\n  margin-left: 20px;\n}\n.switch .switch-component[data-v-50011aff] {\n  width: 70px;\n  height: 36px;\n  background-color: #000;\n  border-radius: 36px;\n  border: none;\n  outline: none;\n  -webkit-appearance: none;\n  transition: all 0.2s ease;\n  cursor: pointer;\n}\n.switch .dan[data-v-50011aff] {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 50%;\n  height: 36px;\n  background: rgba(255,255,255,0.05);\n  border-radius: 50%;\n  transition: all 0.2s ease;\n  display: inline-block;\n  text-align: center;\n  line-height: 36px;\n}\n.switch .switch-component[data-v-50011aff]:checked {\n  background-color: #8e2b4f;\n}\n.switch .switch-component:checked + .dan[data-v-50011aff] {\n  left: 50%;\n  color: #fff;\n  background: #ff005e;\n}\n",""])},108:function(t,n,e){"use strict";var a=e(85);e.n(a).a},109:function(t,n,e){(t.exports=e(3)(!1)).push([t.i,".comment-list .add-comment[data-v-614101d9] {\n  margin: 30px 0;\n  display: flex;\n  align-items: center;\n}\n.comment-list .add-comment .add-avatar[data-v-614101d9] {\n  margin-right: 15px;\n}\n.comment-list .add-comment .add-avatar img[data-v-614101d9] {\n  height: 40px;\n  width: 40px;\n  border-radius: 50%;\n}\n.comment-list .add-content[data-v-614101d9] {\n  flex: 1;\n}\n.comment-list .add-content input[data-v-614101d9] {\n  width: 100%;\n  background: rgba(255,255,255,0.05);\n  border-radius: 20px;\n  padding: 10px 20px;\n  box-sizing: border-box;\n  color: #fff;\n}\n.comment-list .need-login[data-v-614101d9] {\n  flex: 1;\n  text-align: center;\n}\n.comment-list .need-login span[data-v-614101d9] {\n  padding: 2px 10px;\n  background: #ff005e;\n  color: #fff;\n  margin-right: 10px;\n  border-radius: 4px;\n  cursor: pointer;\n}\n.comment-list button[data-v-614101d9] {\n  padding: 10px 20px;\n  color: #fff;\n  margin-left: 10px;\n  background: #ff005e;\n  border-radius: 20px;\n  cursor: pointer;\n  outline: none;\n}\n.comment-list button i[data-v-614101d9] {\n  padding-right: 10px;\n}\n.comment-list h2[data-v-614101d9] {\n  text-align: center;\n  padding: 20px;\n  font-size: 16px;\n}\n.comment-list h2 span[data-v-614101d9] {\n  color: #ff005e;\n}\n.comment-list li[data-v-614101d9] {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 20px;\n  position: relative;\n}\n.comment-list li .comment-avatar[data-v-614101d9] {\n  display: inline-block;\n  width: 60px;\n  text-align: center;\n}\n.comment-list li .comment-avatar img[data-v-614101d9] {\n  height: 50px;\n  width: 50px;\n  border-radius: 50%;\n}\n.comment-list li .text[data-v-614101d9],\n.comment-list li .add-text[data-v-614101d9] {\n  flex: 1;\n  padding: 0 20px 0 30px;\n  position: relative;\n  font-size: 13px;\n  font-weight: bold;\n}\n.comment-list li .text .name[data-v-614101d9],\n.comment-list li .add-text .name[data-v-614101d9] {\n  padding-bottom: 10px;\n  font-size: 12px;\n  color: rgba(255,255,255,0.8);\n}\n.comment-list li .text .name span[data-v-614101d9],\n.comment-list li .add-text .name span[data-v-614101d9] {\n  padding: 2px 15px;\n  margin-right: 10px;\n  cursor: pointer;\n  color: #fff;\n  background: #ff005e;\n  border-radius: 10px;\n}\n.comment-list li time[data-v-614101d9] {\n  font-size: 11px;\n}\n.comment-list li[data-v-614101d9]:nth-child(even) {\n  background: rgba(255,255,255,0.05);\n  border-radius: 5px;\n}\n",""])},110:function(t,n,e){"use strict";var a=e(86);e.n(a).a},123:function(t,n,e){"use strict";e.r(n);var a=e(5),i=e(6),o=e.n(i);const s=o.a.create({baseURL:a.b});function r(t){return o.a.get(`https://jx.clicli.us/get/pv?pid=${t}`)}var d=e(4),c=e(19),l=e(78),p=e(77),u=e.n(p);const m=o.a.create({baseURL:a.b});function v({content:t,pid:n,uid:e,vid:a,tuid:i,time:s,color:r}){return o.a.post("/comment/add",{content:t,pid:parseInt(n),uid:parseInt(e),vid:a||1,color:r||"#fff",tuid:i||0,time:s||0})}var h=e(20),f=e.n(h);var g=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t},x={props:["count"],data:()=>({comments:[],uqq:f.a.get("uqq"),content:""}),mounted(){this.getComment()},methods:g({onComment(){this.content?v({pid:Object(a.c)(this.$route.params.id),uid:f.a.get("uid"),content:this.content,vid:1}).then(t=>{this.content="",this.getComment(),this.count++,console.log(t.data.code)}):this.msg="不能不填！"},getComment(){(function(t,n,e){return m.get("/comments",{params:{pid:t,page:n,pageSize:e}})})(Object(a.c)(this.$route.params.id),1,100).then(t=>{200===t.data.code&&(this.comments=t.data.comments,this.content="")})},onLogin(){this.isOnLogin(!0)},getAvatar:t=>Object(a.d)(t)},Object(d.d)(["isOnLogin"]))},b=(e(110),e(0)),y=Object(b.a)(x,function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"comment-list"},[e("div",{staticClass:"add-comment"},[e("div",{staticClass:"add-avatar"},[e("img",{attrs:{src:t.getAvatar(t.uqq)}})]),t._v(" "),t.uqq?e("div",{staticClass:"add-content"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.content,expression:"content"}],attrs:{type:"text",placeholder:"回复一下下菊花又不会坏(⊙o⊙)…"},domProps:{value:t.content},on:{input:function(n){n.target.composing||(t.content=n.target.value)}}})]):t._e(),t._v(" "),t.uqq?t._e():e("div",{staticClass:"need-login"},[e("span",{on:{click:t.onLogin}},[t._v("登陆")]),t._v(" "),e("a",{attrs:{href:"https://admin.clicli.top/register"}},[t._v("注册")])]),t._v(" "),e("button",{on:{click:t.onComment,keyup:function(n){return!n.type.indexOf("key")&&t._k(n.keyCode,"enter",13,n.key,"Enter")?null:t.onComment(n)}}},[e("i",{staticClass:"icon-font icon-send"}),t._v("发射！")])]),t._v(" "),e("h2",[t._v("共有 "),t.count?e("span",[t._v(t._s(t.count))]):t._e(),t._v(" 条吐槽")]),t._v(" "),e("ul",t._l(t.comments,function(n){return e("li",[e("div",{staticClass:"comment-avatar"},[e("img",{attrs:{src:t.getAvatar(n.uqq)}})]),t._v(" "),e("div",{staticClass:"text"},[e("p",{staticClass:"name"},[t._v(t._s(n.uname))]),t._v(" "),e("p",[t._v(t._s(n.content))])]),t._v(" "),e("time",[t._v(t._s(n.ctime))])])}),0)])},[],!1,null,"614101d9",null).exports;
/*!
** by zhangxinxu(.com)
** 与HTML5 video视频真实交互的弹幕效果
** http://www.zhangxinxu.com/wordpress/?p=6386
** MIT License
** 保留版权申明
*/
const w=function(t,n,e){if(!t||!n)return;let a={opacity:100,fontSize:24,speed:2,range:[0,1],color:"white",data:[]};e=e||{};let i={};for(let t in a)e[t]?i[t]=e[t]:i[t]=a[t],this[t]=i[t];let o=this,s=o.data,r=t.getContext("2d");t.width=n.clientWidth,t.height=n.clientHeight;let d={},c=!0,l=n.currentTime,p=function(n){this.value=n.value,this.time=n.time,this.init=function(){let e=o.speed;n.hasOwnProperty("speed")&&(e=n.speed),0!==e&&(e+=n.value.length/100);let a=n.fontSize||o.fontSize,i=n.color||o.color;i=function(){let t=document.createElement("div");t.style.backgroundColor=i,document.body.appendChild(t);let n=window.getComputedStyle(t).backgroundColor;return document.body.removeChild(t),n}();let s=n.range||o.range,r=n.opacity||o.opacity;r/=100;let d=document.createElement("span");d.style.position="absolute",d.style.whiteSpace="nowrap",d.style.font="bold "+a+'px "microsoft yahei", sans-serif',d.innerText=n.value,d.textContent=n.value,document.body.appendChild(d),this.width=d.clientWidth,document.body.removeChild(d),this.x=t.width,0===e&&(this.x=(this.x-this.width)/2),this.actualX=t.width,this.y=s[0]*t.height+(s[1]-s[0])*t.height*Math.random(),this.y<a?this.y=a:this.y>t.height-a&&(this.y=t.height-a),this.moveX=e,this.opacity=r,this.color=i,this.range=s,this.fontSize=a},this.draw=function(){r.shadowColor="rgba(0,0,0,"+this.opacity+")",r.shadowBlur=2,r.font=this.fontSize+'px "microsoft yahei", sans-serif',/rgb\(/.test(this.color)?r.fillStyle="rgba("+this.color.split("(")[1].split(")")[0]+","+this.opacity+")":r.fillStyle=this.color,r.fillText(this.value,this.x,this.y)}};s.forEach(function(t,n){d[n]=new p(t)});let u=function(){l=n.currentTime,r.clearRect(0,0,t.width,t.height),function(){for(let t in d){let n=d[t];n&&!n.disabled&&l>=n.time&&(n.inited||(n.init(),n.inited=!0),n.x-=n.moveX,0===n.moveX?n.actualX-=o.speed:n.actualX=n.x,n.actualX<-1*n.width&&(n.x=n.actualX,n.disabled=!0),n.draw())}}(),!1===c&&requestAnimationFrame(u)};n.addEventListener("play",function(){c=!1,u()}),n.addEventListener("pause",function(){c=!0}),n.addEventListener("seeked",function(){o.reset()}),this.add=function(t){d[Object.keys(d).length]=new p(t)},this.reset=function(){l=n.currentTime,r.clearRect(0,0,t.width,t.height);for(let t in d){let n=d[t];n&&(n.disabled=!1,l<n.time?n.inited=null:n.disabled=!0)}}};var _={data:()=>({val:"yes"}),methods:{switchDan(){this.val="yes"===this.val?"":"yes","yes"===this.val?this.$emit("openDm"):this.$emit("closeDm")}}},k=(e(108),Object(b.a)(_,function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"switch"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.val,expression:"val"}],staticClass:"switch-component",attrs:{value:"yes",type:"radio"},domProps:{checked:t._q(t.val,"yes")},on:{click:t.switchDan,change:function(n){t.val="yes"}}}),t._v(" "),e("span",{staticClass:"dan"},[t._v("弹")])])},[],!1,null,"50011aff",null).exports),C=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t},O={data:()=>({title:"",user:{},isShow:!1,optShow:!1,adminLink:a.a,uqq:f.a.get("uqq"),data:{color:"#fff",value:""}}),mounted(){this.isShow=!0},computed:C({},Object(d.c)(["isLogin","vid","tuid"])),methods:C({showOpt(){this.optShow=!this.optShow},color(t){this.data.color=t.target.style.background},openDm(){let t=document.getElementById("ep-canvas");"none"===t.style.display&&(t.style.display="block")},closeDm(){document.getElementById("ep-canvas").style.display="none"},getAvatar:t=>Object(a.d)(t),onLogin(){this.isOnLogin(!0)},onComment(){if(this.$emit("addDm",this.data),!this.data.value)return void(this.msg="不能不填！");let t=Math.round(document.querySelector("e-player").shadowRoot.querySelector("video").currentTime);this.$emit("add",{value:this.data.value,time:t,color:this.data.color}),v({pid:Object(a.c)(this.$route.params.id),uid:f.a.get("uid"),content:this.data.value,vid:this.vid,time:t,color:this.data.color}).then(t=>{this.data.value="",console.log(t.data.code)})}},Object(d.d)(["isOnLogin","setCurrentTime"])),components:{SwitchButton:k}},S=(e(106),Object(b.a)(O,function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"comment"},[e("div",{staticClass:"wrap comment-box"},[e("div",{staticClass:"comment-avatar"},[e("img",{attrs:{src:t.getAvatar(t.uqq)}})]),t._v(" "),e("div",{staticClass:"add-text"},[t.isShow?e("input",{directives:[{name:"model",rawName:"v-model",value:t.data.value,expression:"data.value"}],attrs:{placeholder:"回复一下下菊花又不会坏……"},domProps:{value:t.data.value},on:{keyup:function(n){return!n.type.indexOf("key")&&t._k(n.keyCode,"enter",13,n.key,"Enter")?null:t.onComment(n)},input:function(n){n.target.composing||t.$set(t.data,"value",n.target.value)}}}):t._e(),t._v(" "),t.isShow?t._e():e("div",{staticClass:"need-login"},[e("span",{on:{click:t.onLogin}},[t._v("登陆")]),t._v(" "),e("a",{attrs:{href:t.adminLink+"/register"}},[t._v("注册")])])]),t._v(" "),e("switch-button",{on:{closeDm:t.closeDm,openDm:t.openDm}}),t._v(" "),e("div",{staticClass:"option"},[e("div",{staticClass:"color",on:{click:t.showOpt}},[e("i",{staticClass:"icon-font icon-color",style:{color:t.data.color}})]),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:t.optShow,expression:"optShow"}],staticClass:"dm-opt"},[e("p",[t._v("设置弹幕颜色")]),t._v(" "),e("p",[e("i",{staticStyle:{background:"#FFFFFF"},on:{click:t.color}}),t._v(" "),e("i",{staticStyle:{background:"#E54256"},on:{click:t.color}}),t._v(" "),e("i",{staticStyle:{background:"#f9a100"},on:{click:t.color}}),t._v(" "),e("i",{staticStyle:{background:"#FFE133"},on:{click:t.color}}),t._v(" "),e("i",{staticStyle:{background:"#64DD17"},on:{click:t.color}}),t._v(" "),e("i",{staticStyle:{background:"#00f9d7"},on:{click:t.color}}),t._v(" "),e("i",{staticStyle:{background:"#39ccff"},on:{click:t.color}}),t._v(" "),e("i",{staticStyle:{background:"#D500F9"},on:{click:t.color}})]),t._v(" "),e("p",[t._v("设置弹幕位置")]),t._v(" "),t._m(0)])]),t._v(" "),e("div",{staticClass:"submit"},[e("button",{on:{click:t.onComment}},[e("i",{staticClass:"icon-font icon-send"}),t._v("发射")])])],1)])},[function(){var t=this.$createElement,n=this._self._c||t;return n("p",[n("span",[this._v("上")]),n("span",{staticClass:"active"},[this._v("中")]),n("span",[this._v("下")])])}],!1,null,"17299371",null).exports),j={props:["url","type","playerShow"],computed:(Object.assign||function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t})({},Object(d.c)(["danmuku"])),data:()=>({isMobile:!1}),mounted(){"ontouchend"in document.body&&(this.isMobile=!0)},watch:{url(){setTimeout(()=>{if(this.isMobile){const t=document.querySelector("video");this.stream(t),t.load()}else{const t=document.querySelector("e-player").shadowRoot.querySelector("video"),n=document.querySelector(".danmu");let e=this.forDanmu(this.danmuku);this.dm=new w(n,t,{data:e})}},20)}},methods:{stream(t){switch(this.type){case"hls":if(Hls.isSupported()){let n=new Hls;n.loadSource(this.url),n.attachMedia(t)}}},add(t){this.dm.add(t)},getType(){return`video/${this.type}`},forDanmu(t){let n=[];for(let e in t){let a={};a.value=t[e].content,a.time=t[e].time,a.color=t[e].color,n[e]=a}return n},hide(){this.$emit("hide")}},components:{Comment:S}},z=(e(104),Object(b.a)(j,function(){var t=this,n=t.$createElement,e=t._self._c||n;return t.playerShow?e("div",{staticClass:"player-wrap"},[e("div",{staticClass:"wrapper"}),t._v(" "),e("div",{staticClass:"play"},[t.isMobile?t._e():e("e-player",{attrs:{src:t.url,type:t.type}}),t._v(" "),t.isMobile?t._e():e("canvas",{staticClass:"danmu"}),t._v(" "),t.isMobile?e("div",{staticClass:"mobile"},[e("video",{staticStyle:{width:"100%"},attrs:{controls:""}},[e("source",{attrs:{type:t.getType(),src:t.url}})])]):t._e(),t._v(" "),e("div",{staticClass:"close",on:{click:t.hide}},[e("i",{staticClass:"icon-font icon-close"})])],1),t._v(" "),e("comment",{on:{add:t.add}})],1):t._e()},[],!1,null,null,null).exports),q=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t},$={data(){return{videos:[],addShow:!1,isShow:!1,playerShow:!1,title:"",content:"",pid:Object(a.c)(this.$route.params.id),uid:0,url:"",type:""}},mounted(){const t=f.a.get("level");this.uid=f.a.get("uid"),t>2&&(this.isShow=!0),function(t,n,e){return s.get("/videos",{params:{pid:t,page:n,pageSize:e}})}(this.pid,1,150).then(t=>{200===t.data.code&&(this.videos=t.data.videos)})},computed:q({},Object(d.e)(["vid"])),methods:q({hide(){this.addShow=!1,this.playerShow=!1,document.body.style.overflow="auto"},selectItem({id:t,content:n},e){this.playerShow=!0,this.setVid(t),r(this.pid),function(t,n,e){return m.get("/comments",{params:{vid:t,page:n,pageSize:e}})}(t,1,100).then(t=>{this.getDanmuku(t.data.comments)}),function(t){return o.a.get("https://jx.clicli.us/jx",{params:{url:t}})}(n).then(t=>{this.url=t.data.url,this.type=t.data.type}),document.body.style.overflow="hidden",e.currentTarget.style.background="#21374f"},getAvatar:t=>Object(a.d)(t)},Object(d.d)(["setVid","getDanmuku"])),components:{Player:z}},E=(e(102),Object(b.a)($,function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"video-list"},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.addShow,expression:"addShow"}],staticClass:"wrapper",on:{click:t.hide}}),t._v(" "),e("player",{attrs:{url:t.url,type:t.type,playerShow:t.playerShow},on:{hide:t.hide}}),t._v(" "),e("div",{staticClass:"list"},[e("ul",t._l(t.videos,function(n){return e("li",[e("div",{staticClass:"item",on:{click:function(e){return t.selectItem(n,e)}}},[e("div",{staticClass:"avatar"},[e("img",{attrs:{src:t.getAvatar(n.uqq)}})]),t._v(" "),e("div",{staticClass:"oid"},[t._v("P"+t._s(n.oid))]),t._v(" "),e("div",{staticClass:"title"},[t._v(t._s(n.title))])])])}),0)])],1)},[],!1,null,"1aa605ce",null).exports),L=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t},D={mixins:[c.a],data:()=>({playCount:0}),title(){return this.$store.state.post.title+"- clicli弹幕网"},computed:L({},Object(d.c)(["post","count"])),mounted(){this.getPost(Object(a.c)(this.$route.params.id)),r(Object(a.c)(this.$route.params.id)).then(t=>{this.playCount=t.data.pv})},asyncData:({store:t,route:n})=>t.dispatch("getPost",Object(a.c)(n.params.id)),methods:L({},Object(d.b)(["getPost"]),{getAvatar:t=>Object(a.d)(t),marked(t){let n=new u.a.Renderer;return u.a.setOptions({breaks:!0}),n.link=function(t,n,e){return'<a target="_blank" href="'+t+'" title="'+n+'">'+e+"</a>"},void 0===t?"少年祈祷中……":u()(t,{renderer:n})}}),components:{Loading:l.a,CommentList:y,VideoList:E}},P=(e(100),Object(b.a)(D,function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"post-detail"},[e("router-link",{attrs:{to:"/u/"+t.post.uid}},[e("div",{staticClass:"avatar"},[e("img",{attrs:{src:t.getAvatar(t.post.uqq)}}),t._v(" "),e("span",[t._v(t._s(t.post.uname))]),t._v(" "),t.post.count?e("div",{staticClass:"count"},[e("i",{staticClass:"icon-font icon-comment"}),t._v(t._s(t.post.count.cv))]):t._e(),t._v(" "),e("div",{staticClass:"count"},[e("i",{staticClass:"icon-font icon-eye"}),t._v(t._s(t.playCount)+" ℃")])])]),t._v(" "),e("div",{staticClass:"post"},[e("loading",{directives:[{name:"show",rawName:"v-show",value:!t.post.uname,expression:"!post.uname"}]}),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:t.post.uname,expression:"post.uname"}]},[e("router-link",{attrs:{to:"/play/av"+t.post.id}},[e("h1",{staticClass:"title"},[t._v(t._s(t.post.title))])]),t._v(" "),e("div",{staticClass:"info"},[t.post.time?e("span",[t._v(t._s(t.post.time.slice(0,-3)))]):t._e(),t._v(" "),e("span",{domProps:{textContent:t._s(t.post.sort)}}),t._v(" "),e("span",{domProps:{textContent:t._s(t.post.tag)}})]),t._v(" "),e("div",{staticClass:"content",domProps:{innerHTML:t._s(t.marked(t.post.content))}})],1)],1),t._v(" "),e("router-view"),t._v(" "),"public"===t.post.status||"ugc"===t.post.status?e("video-list"):t._e(),t._v(" "),t.post.count?e("comment-list",{attrs:{count:t.count}}):t._e()],1)},[],!1,null,null,null));n.default=P.exports},71:function(t,n,e){var a=e(90);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);(0,e(2).default)("06c4077b",a,!0,{})},78:function(t,n,e){"use strict";var a={},i=(e(91),e(0)),o=Object(i.a)(a,function(){this.$createElement;this._self._c;return this._m(0)},[function(){var t=this.$createElement,n=this._self._c||t;return n("div",{staticClass:"loading"},[n("div",{staticClass:"spinner"},[n("i")])])}],!1,null,"f8a5840a",null);n.a=o.exports},81:function(t,n,e){var a=e(99);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);(0,e(2).default)("4309fc1b",a,!0,{})},82:function(t,n,e){var a=e(101);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);(0,e(2).default)("574ee486",a,!0,{})},83:function(t,n,e){var a=e(103);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);(0,e(2).default)("413b79fc",a,!0,{})},84:function(t,n,e){var a=e(105);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);(0,e(2).default)("6af977e8",a,!0,{})},85:function(t,n,e){var a=e(107);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);(0,e(2).default)("0c3019ef",a,!0,{})},86:function(t,n,e){var a=e(109);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);(0,e(2).default)("63289c83",a,!0,{})},90:function(t,n,e){(t.exports=e(3)(!1)).push([t.i,'.spinner[data-v-f8a5840a] {\n  font-size: 20px;\n  width: 30px;\n  height: 30px;\n  margin: 100px auto;\n  border-radius: 50%;\n  box-shadow: inset 0 0 0 0.1em rgba(0,156,255,0.3);\n}\n.spinner i[data-v-f8a5840a] {\n  animation: spinner-circle-clipper-data-v-f8a5840a 1s ease-in-out infinite;\n}\n.spinner i[data-v-f8a5840a],\n.spinner i[data-v-f8a5840a]:after {\n  display: inline-block;\n  position: absolute;\n  clip: rect(0, 30px, 30px, 15px);\n  width: 30px;\n  height: 30px;\n}\n.spinner i[data-v-f8a5840a]:after {\n  content: "";\n  animation: spinner-circle-data-v-f8a5840a 1s ease-in-out infinite;\n  border-radius: 50%;\n  box-shadow: inset 0 0 0 3px $blue-color;\n}\n@-moz-keyframes spinner-circle-clipper-data-v-f8a5840a {\n0% {\n    transform: rotate(0deg);\n}\nto {\n    transform: rotate(180deg);\n}\n}\n@-webkit-keyframes spinner-circle-clipper-data-v-f8a5840a {\n0% {\n    transform: rotate(0deg);\n}\nto {\n    transform: rotate(180deg);\n}\n}\n@-o-keyframes spinner-circle-clipper-data-v-f8a5840a {\n0% {\n    transform: rotate(0deg);\n}\nto {\n    transform: rotate(180deg);\n}\n}\n@keyframes spinner-circle-clipper-data-v-f8a5840a {\n0% {\n    transform: rotate(0deg);\n}\nto {\n    transform: rotate(180deg);\n}\n}\n@-moz-keyframes spinner-circle-data-v-f8a5840a {\n0% {\n    transform: rotate(-180deg);\n}\nto {\n    transform: rotate(180deg);\n}\n}\n@-webkit-keyframes spinner-circle-data-v-f8a5840a {\n0% {\n    transform: rotate(-180deg);\n}\nto {\n    transform: rotate(180deg);\n}\n}\n@-o-keyframes spinner-circle-data-v-f8a5840a {\n0% {\n    transform: rotate(-180deg);\n}\nto {\n    transform: rotate(180deg);\n}\n}\n@keyframes spinner-circle-data-v-f8a5840a {\n0% {\n    transform: rotate(-180deg);\n}\nto {\n    transform: rotate(180deg);\n}\n}\n',""])},91:function(t,n,e){"use strict";var a=e(71);e.n(a).a},99:function(t,n,e){(t.exports=e(3)(!1)).push([t.i,".post-detail {\n  width: 700px;\n  margin: 30px auto;\n}\n.post-detail a {\n  color: rgba(255,255,255,0.8);\n}\n.post-detail .avatar {\n  display: flex;\n  position: relative;\n  align-items: center;\n  padding: 10px;\n  margin-bottom: 20px;\n  justify-content: center;\n}\n.post-detail .avatar img {\n  width: 40px;\n  height: 40px;\n  border-radius: 30px;\n  border: 10px solid rgba(255,255,255,0.05);\n}\n.post-detail .avatar span {\n  padding: 0 15px;\n}\n.post-detail .post {\n  padding: 15px;\n  background: rgba(255,255,255,0.05);\n  border-radius: 4px;\n  position: relative;\n}\n.post-detail .post .title {\n  font-size: 20px;\n  padding: 10px;\n  color: rgba(255,255,255,0.8);\n  text-align: center;\n}\n.post-detail .post .info {\n  text-align: center;\n  padding: 10px 0 15px 0;\n}\n.post-detail .post .info span {\n  padding: 3px 8px;\n  font-size: 11px;\n  background: #184d6b;\n  color: #fff;\n  border-radius: 2px;\n  margin: 0 5px;\n}\n.post-detail .post .content img {\n  max-width: 100%;\n  box-sizing: border-box;\n  padding: 15px;\n  background: #001935;\n  border-radius: 5px;\n  margin: 5px 0;\n}\n.post-detail .post .content p {\n  padding: 10px 0;\n  line-height: 1.5;\n  word-wrap: break-word;\n}\n.post-detail .post .content ol {\n  display: block;\n}\n.post-detail .post .content ol li {\n  display: inline-block;\n  padding: 5px 15px;\n  background: #35355a;\n  margin: 5px 10px 10px 0;\n  box-sizing: border-box;\n  border: 1px solid #35355a;\n}\n.post-detail .post .content ol li a {\n  font-weight: normal;\n}\n.post-detail .post .content ol li:hover {\n  border: 1px solid #00fff6;\n  box-sizing: border-box;\n}\n.post-detail .post .content a {\n  color: #fff;\n  font-weight: bold;\n}\n.post-detail .count {\n  background: rgba(255,255,255,0.05);\n  padding: 5px 15px;\n  border-radius: 25px;\n  float: right;\n  margin-right: 10px;\n}\n.post-detail .count .icon-font {\n  margin-right: 8px;\n}\n.post-detail .count:hover {\n  background: #00fff6;\n}\n",""])}}]);